<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Save Life</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        body {
            background-color: white;
            display: flex;
            flex-direction: column;
            height: 100vh; /* Full screen height */
        }
        header {
            background-color: #4CAF50; /* Green */
            border-bottom: 2px solid #fff;
        }
        h1, h2 {
            color: white;
        }
        .navbar {
            width: 100%;
        }
        .navbar a, .navbar .navbar-toggler-icon {
            color: white;
        }
        .btn-primary {
            background-color: #007BFF; /* Blue */
            border: none;
        }
        .btn-primary:hover {
            background-color: #0056b3; /* Darker Blue */
        }
        footer {
            background-color: black;
            color: white;
            text-align: center;
            padding: 20px;
            margin-top: 30px;
        }
        footer a {
            color: white;
            text-decoration: none;
        }
        footer a:hover {
            text-decoration: underline;
        }

        /* Ensure logo is responsive */
        .logo {
            width: 120px;
            height: auto;
        }

        /* Adjust navbar items for small screens */
        @media (max-width: 767px) {
            .logo {
                width: 80px;
            }
            h1 {
                font-size: 1.8rem;
            }
        }

        /* Table styles */
        table {
            width: 100%;
            margin-top: 20px;
            border-collapse: collapse;
        }

        table th, table td {
            padding: 10px;
            text-align: center;
            border: 1px solid #ddd;
        }

        table th {
            background-color: #007bff;
            color: green;
        }

        /* Form styling */
        .form-control {
            border-radius: 5px;
        }

        .form-group {
            margin-bottom: 1.5rem;
        }

        .search-btn {
            background-color: #28a745;
            color: white;
            border-radius: 5px;
            border: none;
            padding: 10px 20px;
            font-size: 1.1rem;
        }

        .search-btn:hover {
            background-color: #218838;
        }
.language-toggle-btn {
  position: absolute;
  top: 10px;
  right: 10px;
  background-color: #007BFF;
  color: white;
  border: none;
  padding: 8px 10px;
  border-radius: 5px;
  cursor: pointer;
  border: 2px solid white;
}

.language-toggle-btn:hover {
  background-color: rgb(76 175 80);
}
    </style>
</head>
<body>
<button th:title="#{language.switch.title}" class="language-toggle-btn" onclick="toggleLanguage()">
		<span th:text="#{language.switch}"></span>
	</button>
<!-- Header Section -->
<header class="py-4" style="background: linear-gradient(90deg, rgba(76,175,80,1) 0%, rgba(0,123,255,1) 100%);">
    <div class="container">
        <div class="row align-items-center">
            <!-- Logo Section -->
            <div class="col-12 col-md-3 text-left mb-3 mb-md-0">
                <img src="/images/b-logo.avif" alt="Blood Donation Logo" class="logo" style="border-radius: 70px;">
            </div>
            <!-- Title Section -->
            <div class="col-12 col-md-3 text-center">
                <h1 class="text-white display-4" style="font-size: 2.5rem; font-weight: bold;">SAVE LIFE</h1>
            </div>
            <!-- Navbar Section -->
            <div class="col-12 col-md-6 text-right">
                <nav class="navbar navbar-expand-lg navbar-dark">
                    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                        <span class="navbar-toggler-icon"></span>
                    </button>
                    <div class="collapse navbar-collapse" id="navbarNav">
                        <ul class="navbar-nav ms-auto">
                            <li class="nav-item"><a class="nav-link" href="/" style="color: white;" th:text="#{lable.header.home}"></a></li>
                            <li class="nav-item"><a class="nav-link" href="/about" style="color: white;" th:text="#{lable.header.about.us}"></a></li>
                                                        <li class="nav-item"><a class="nav-link" href="/admin/logout" style="color: white;" th:text="#{lable.header.logout}"></a></li>
                            
                        </ul>
                    </div>
                </nav>
            </div>
        </div>
    </div>
</header>

<!-- Main Content -->
<div class="container py-5">
    <h2 class="text-center mb-4">Hello Admin, Welcome ......!</h2>
    

<h4 class="text-center mb-4">Listed Queries</h4>

    <!-- Donor List Table -->
    <div th:if="${queryList != null and not #lists.isEmpty(queryList)}" class="mt-5">
        <table class="table table-bordered">
            <thead>
                <tr>
                    <th th:text="#{lable.table.sno}"></th>
                    <th th:text="#{lable.table.name}"></th>
                     <th th:text="#{lable.table.email}"></th>
                    <th th:text="#{lable.table.mobile.no}"></th>
                    <th th:text="#{lable.table.description}"></th>
                    <th th:text="#{lable.table.action}"></th>
                </tr>
            </thead>
            <tbody>
                <tr th:each="query, sno : ${queryList}">
                    <td th:text="${sno.index + 1}"></td>
                    <td th:text="${query.name}"></td>
                     <td th:text="${query.email}"></td>
                    <td th:text="${query.mobile}"></td>
                    <td th:text="${query.description}"></td>
                    <td>
    <a th:href="@{/admin/close/{sno}(sno=${query.sno})}" 
       class="btn btn-link" 
       th:text="#{query.action.close}">
    </a>
</td>
                </tr>
            </tbody>
        </table>
    </div>
    
    <div th:if="${pFlag == '2' and (queryList == null or #lists.isEmpty(queryList))}" class="text-center mt-5">
    <p th:text="#{lable.no.rec}"></p>
</div>
</div>

<!-- Footer Section -->
<footer>
    <p>&copy; 2025 SAVE LIFE | <a href="/contact" class="text-white">Contact Us</a></p>
</footer>

<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.10.2/dist/umd/popper.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.min.js"></script>
<script type="text/javascript">
function toggleLanguage() {
	debugger;
	let currentUrl = window.location.href;

    // Check for 'lang' parameter in the URL
    let urlParams = new URLSearchParams(window.location.search);
    let currentLanguage = urlParams.get('lang');

    // If 'lang' is not present, set default to 'en' (English)
    if (!currentLanguage) {
        currentLanguage = 'en'; // Default to English
    }

    // Toggle the language based on the current language
    if (currentLanguage === 'en') {
        // Redirect to the same URL with Telugu language
        if (currentUrl.includes('?')) {
            // If lang exists, replace it with the new language
            currentUrl = currentUrl.replace(/([?&])lang=[^&]*/, '$1lang=te');
        } else {
            // If lang does not exist, add it to the URL
            currentUrl += '?lang=te';
        }
    } else {
        // Redirect to the same URL with English language
        if (currentUrl.includes('?')) {
            // If lang exists, replace it with the new language
            currentUrl = currentUrl.replace(/([?&])lang=[^&]*/, '$1lang=en');
        } else {
            // If lang does not exist, add it to the URL
            currentUrl += '?lang=en';
        }
    }

    // Redirect to the updated URL
    window.location.href = currentUrl;
}
</script>
</body>
</html>
